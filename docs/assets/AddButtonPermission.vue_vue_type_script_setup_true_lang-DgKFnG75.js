var V=(u,d,e)=>new Promise((n,m)=>{var p=o=>{try{l(e.next(o))}catch(s){m(s)}},f=o=>{try{l(e.throw(o))}catch(s){m(s)}},l=o=>o.done?n(o.value):Promise.resolve(o.value).then(p,f);l((e=e.apply(u,d)).next())});import{F as C}from"./Form-DUQyGqvj.js";import"./index-DgQ-X92v.js";/* empty css                  */import{u as F}from"./useForm-BSFk0zYA.js";import{u as M}from"./useValidator-Dn6mhT4y.js";import{K as k}from"./element-plus-B5Fb1RnA.js";import{v as y,aF as D,aG as _,V as B,ad as N,x as P,J as R,K as i,M as c,u as v,B as E,a3 as g}from"./vue-chunks-mpUGqK7y.js";const U=y({__name:"AddButtonPermission",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:D(["confirm"],["update:modelValue"]),setup(u,{emit:d}){const e=_(u,"modelValue"),{required:n}=M(),m=B([{field:"label",label:"label",component:"Input",colProps:{span:24}},{field:"value",label:"value",component:"Input",colProps:{span:24}}]),{formRegister:p,formMethods:f}=F(),{getFormData:l,getElFormExpose:o}=f,s=d,w=B({label:[n()],value:[n()]}),b=()=>V(this,null,function*(){const r=yield o();if(!r)return;if(yield r==null?void 0:r.validate().catch(t=>{})){const t=yield l();t.id=Date.now(),s("confirm",t),e.value=!1}});return(r,a)=>{const t=N("BaseButton");return P(),R(v(k),{modelValue:e.value,"onUpdate:modelValue":a[1]||(a[1]=x=>e.value=x),title:"新增按钮权限"},{default:i(()=>[c(v(C),{rules:w,onRegister:v(p),schema:m},null,8,["rules","onRegister","schema"])]),footer:i(()=>[E("div",null,[c(t,{onClick:a[0]||(a[0]=()=>e.value=!1)},{default:i(()=>a[2]||(a[2]=[g("取消")])),_:1}),c(t,{type:"primary",onClick:b},{default:i(()=>a[3]||(a[3]=[g("确认")])),_:1})])]),_:1},8,["modelValue"])}}});export{U as _};
