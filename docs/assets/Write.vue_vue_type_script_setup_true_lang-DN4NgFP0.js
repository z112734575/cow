var f=(s,c,t)=>new Promise((m,n)=>{var i=e=>{try{a(t.next(e))}catch(o){n(o)}},u=e=>{try{a(t.throw(e))}catch(o){n(o)}},a=e=>e.done?m(e.value):Promise.resolve(e.value).then(i,u);a((t=t.apply(s,c)).next())});import{F as w}from"./Form-DUQyGqvj.js";import{u as g}from"./useForm-BSFk0zYA.js";import{u as v}from"./useValidator-Dn6mhT4y.js";import{v as x,V as _,w as y,x as F,J as R,u as p}from"./vue-chunks-mpUGqK7y.js";const E=x({__name:"Write",props:{currentRow:{type:Object,default:()=>{}},formSchema:{type:Array,default:()=>[]}},setup(s,{expose:c}){const{required:t}=v(),m=s,n=_({username:[t()],account:[t()],"department.id":[t()]}),{formRegister:i,formMethods:u}=g(),{setValues:a,getFormData:e,getElFormExpose:o}=u,d=()=>f(this,null,function*(){const r=yield o();if(yield r==null?void 0:r.validate().catch(h=>{}))return yield e()});return y(()=>m.currentRow,r=>{r&&a(r)},{deep:!0,immediate:!0}),c({submit:d}),(r,l)=>(F(),R(p(w),{rules:n,onRegister:p(i),schema:s.formSchema},null,8,["rules","onRegister","schema"]))}});export{E as _};
