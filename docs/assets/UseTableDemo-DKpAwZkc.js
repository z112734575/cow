var v=(c,x,f)=>new Promise((g,D)=>{var w=m=>{try{p(f.next(m))}catch(u){D(u)}},_=m=>{try{p(f.throw(m))}catch(u){D(u)}},p=m=>m.done?g(m.value):Promise.resolve(m.value).then(w,_);p((f=f.apply(c,x)).next())});import{_ as E}from"./ContentWrap.vue_vue_type_script_setup_true_lang-Bkv9eS5E.js";import{c as G,i as s,_ as J}from"./index-TwgnzE1J.js";import{_ as Q}from"./Table.vue_vue_type_script_lang-DF00gmO3.js";import{a as W}from"./index-C__Zgg29.js";/* empty css               */import{u as X}from"./useTable-eC-wqEjB.js";import{p as Y}from"./element-plus-B5Fb1RnA.js";import{v as Z,V as ee,j as te,M as l,a3 as i,r as b,x as oe,y as ae,K as r,u as e,P as d,k as I,H as le,a7 as ne}from"./vue-chunks-mpUGqK7y.js";/* empty css                *//* empty css                  *//* empty css                        *//* empty css                    *//* empty css                      *//* empty css                  *//* empty css                 *//* empty css                        */import"./el-radio-button-AjL4fsfV.js";/* empty css                         *//* empty css                  */import"./index-BWEdXBfz.js";function z(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Object]"&&!ne(c)}const ie=Z({__name:"UseTableDemo",setup(c){const{tableRegister:x,tableMethods:f,tableState:g}=X({fetchDataApi:()=>v(this,null,function*(){const{currentPage:a,pageSize:t}=g,n=yield W({pageIndex:e(a),pageSize:e(t)});return{list:n.data.list,total:n.data.total}})}),{loading:D,dataList:w,total:_,currentPage:p,pageSize:m}=g,{setProps:u,setColumn:y,getElTableExpose:k,addColumn:U,delColumn:H,refresh:N}=f,{t:o}=G(),j=ee([]);te(()=>{setTimeout(()=>{u({columns:[{field:"expand",type:"expand",slots:{default:a=>{const{row:t}=a;return l("div",{class:"ml-30px"},[l("div",null,[o("tableDemo.title"),i("："),t.title]),l("div",null,[o("tableDemo.author"),i("："),t.author]),l("div",null,[o("tableDemo.displayTime"),i("："),t.display_time])])}}},{field:"selection",type:"selection"},{field:"index",label:o("tableDemo.index"),type:"index"},{field:"title",label:o("tableDemo.title")},{field:"author",label:o("tableDemo.author")},{field:"display_time",label:o("tableDemo.displayTime")},{field:"importance",label:o("tableDemo.importance"),formatter:(a,t,n)=>l(Y,{type:n===1?"success":n===2?"warning":"danger"},{default:()=>[o(n===1?"tableDemo.important":n===2?"tableDemo.good":"tableDemo.commonly")]})},{field:"pageviews",label:o("tableDemo.pageviews")},{field:"action",label:o("tableDemo.action"),slots:{default:a=>{let t;return l(s,{type:"primary",onClick:()=>A(a)},z(t=o("tableDemo.action"))?t:{default:()=>[t]})}}}]})},2e3)});const A=a=>{},$=b(!0),T=a=>{$.value=a},P=a=>{u({reserveIndex:a})},F=a=>{y([{field:"selection",path:"hidden",value:!a}])},O=b(1),M=()=>{y([{field:"title",path:"label",value:`${o("tableDemo.title")}${e(O)}`}]),O.value++},R=a=>{y([{field:"expand",path:"hidden",value:!a}])},B=()=>v(this,null,function*(){const a=yield k();a==null||a.toggleAllSelection()}),S=b(!0),L=()=>{e(S)?(H("action"),S.value=!1):(U({field:"action",label:o("tableDemo.action"),slots:{default:a=>{let t;return l(s,{type:"primary",onClick:()=>A(a)},z(t=o("tableDemo.action"))?t:{default:()=>[t]})}}}),S.value=!0)},C=b(!1),K=()=>{u({stripe:!e(C)}),C.value=!e(C)},h=b("auto"),V=()=>{e(h)==="auto"?(u({height:300}),h.value=300):(u({height:"auto"}),h.value="auto")},q=()=>v(this,null,function*(){const a=yield k(),t=a==null?void 0:a.getSelectionRows()});return(a,t)=>(oe(),ae(le,null,[l(e(E),{title:`UseTable ${e(o)("tableDemo.operate")}`,style:{"margin-bottom":"20px"}},{default:r(()=>[l(e(s),{onClick:t[0]||(t[0]=n=>T(!0))},{default:r(()=>[i(d(e(o)("tableDemo.show"))+" "+d(e(o)("tableDemo.pagination")),1)]),_:1}),l(e(s),{onClick:t[1]||(t[1]=n=>T(!1))},{default:r(()=>[i(d(e(o)("tableDemo.hidden"))+" "+d(e(o)("tableDemo.pagination")),1)]),_:1}),l(e(s),{onClick:t[2]||(t[2]=n=>P(!0))},{default:r(()=>[i(d(e(o)("tableDemo.reserveIndex")),1)]),_:1}),l(e(s),{onClick:t[3]||(t[3]=n=>P(!1))},{default:r(()=>[i(d(e(o)("tableDemo.restoreIndex")),1)]),_:1}),l(e(s),{onClick:t[4]||(t[4]=n=>F(!0))},{default:r(()=>[i(d(e(o)("tableDemo.showSelections")),1)]),_:1}),l(e(s),{onClick:t[5]||(t[5]=n=>F(!1))},{default:r(()=>[i(d(e(o)("tableDemo.hiddenSelections")),1)]),_:1}),l(e(s),{onClick:M},{default:r(()=>[i(d(e(o)("tableDemo.changeTitle")),1)]),_:1}),l(e(s),{onClick:t[6]||(t[6]=n=>R(!0))},{default:r(()=>[i(d(e(o)("tableDemo.showExpandedRows")),1)]),_:1}),l(e(s),{onClick:t[7]||(t[7]=n=>R(!1))},{default:r(()=>[i(d(e(o)("tableDemo.hiddenExpandedRows")),1)]),_:1}),l(e(s),{onClick:B},{default:r(()=>[i(d(e(o)("tableDemo.selectAllNone")),1)]),_:1}),l(e(s),{onClick:L},{default:r(()=>[i(d(e(o)("tableDemo.delOrAddAction")),1)]),_:1}),l(e(s),{onClick:K},{default:r(()=>[i(d(e(o)("tableDemo.showOrHiddenStripe")),1)]),_:1}),l(e(s),{onClick:V},{default:r(()=>[i(d(e(o)("tableDemo.fixedHeaderOrAuto")),1)]),_:1}),l(e(s),{onClick:q},{default:r(()=>[i(d(e(o)("tableDemo.getSelections")),1)]),_:1})]),_:1},8,["title"]),l(e(E),{title:`UseTable ${e(o)("tableDemo.example")}`},{default:r(()=>[l(e(Q),{pageSize:e(m),"onUpdate:pageSize":t[8]||(t[8]=n=>I(m)?m.value=n:null),currentPage:e(p),"onUpdate:currentPage":t[9]||(t[9]=n=>I(p)?p.value=n:null),showAction:"",showSummary:"","default-expand-all":"",columns:j,"row-key":"id",data:e(w),loading:e(D),pagination:$.value?{total:e(_)}:void 0,onRegister:e(x),onRefresh:e(N)},null,8,["pageSize","currentPage","columns","data","loading","pagination","onRegister","onRefresh"])]),_:1},8,["title"])],64))}}),$e=J(ie,[["__scopeId","data-v-25cad1cb"]]);export{$e as default};
